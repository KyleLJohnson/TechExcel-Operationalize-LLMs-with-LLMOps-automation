---
title: '1. Project Setup'
layout: default
nav_order: 1
parent: 'Exercise 06: Automate Everything'
---

# Task 01 - Project Setup

## Description

In this exercise, we will learn how to setup **LLMOps with Prompt Flow** template to deploy an end-to-end LLMOps solution using **Prompt Flow** and **Github Actions**.

## Success Criteria

* Successfully complete project setup

## References
- [LLMOps with Prompt Flow and GitHub](https://learn.microsoft.com/en-us/azure/machine-learning/prompt-flow/how-to-end-to-end-llmops-with-prompt-flow)
- [LLMOps with Prompt Flow template repo](https://github.com/microsoft/llmops-promptflow-template)
- [Basic LLMOps example](https://github.com/Azure/llmops-gha-demo/blob/main/docs/e2e_llmops_with_promptflow.md)

## Solution

<details markdown="block">
<summary>Expand this section to view the solution</summary>

##### 1) Check and set-up pre-requisites

Please ensure that you have the following resources in order to proceed with the hands-on steps:

* An Azure subscription.
* An Azure AI Project and AI Resource.
  * If you do not have an AI Project, please follow the instructions provided in     this link to create one.
  * If this is your first AI project, create an AI Resource during the setup.        Otherwise, utilize an existing one.
* A GitHub account.
* A workstation with the following options:
* Local machine or VM equipped with the following tools:
  * Git (usually pre-installed on most systems)
  * Python 3.10: Download Python
  * VS Code (Desktop version)
  * Azure CLI
  
Important: Since we will be utilizing bash commands, the operating system must be Windows with WSL, Linux, or MacOS.

##### 2) Check and set-up pre-requisites

1. Login to Azure so taht you can execute the commands for the following steps.

<div style="border: 1px solid black; padding: 10px;">
 
%%bash
az login

</div>

> %%bash <br/>
> az login

2. Create a Service Principle.

An Azure service principal (SP) is a special type of identity that can be used by automated tools to access Azure resources.

We will use a service principal to grant GitHub Actions the permission to use the resources in our Azure subscription.

Run the following bash script after updating the <subscription_id> placeholder with your subscription id.

Note: The service principal name will be automatically generated in the format: LLMOps-(seconds since epoch). If you prefer a different name, you can specify it in the spname variable.

>%%bash <br/>
> <br/>
> # variables <br/>
> subscriptionId="<subscription_id>" <br/>
> spname="LLMOps-$(date +%s)" <br/>
> roleName="Owner" <br/>
> servicePrincipalName="Azure-ARM-${spname}" <br/>
> <br/>
> echo "Using subscription ID $subscriptionID" <br/>
> echo "> Setting subscription id" <br/>
> az account set --subscription $subscriptionId <br/>
> <br/>
> echo "Creating SP for RBAC with name $servicePrincipalName, with role $roleName <br/>
> and in scopes /subscriptions/$subscriptionId" <br/>
> az ad sp create-for-rbac --name $servicePrincipalName --role $roleName --scopes <br/>
> /subscriptions/$subscriptionId --sdk-auth <br/>
> <br/>
> echo "Please ensure that the information created here is properly saved for <br/>
> future use."

</details>
